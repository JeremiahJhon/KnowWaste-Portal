@model KnowWaste.Models.Documents

@{ 
    List<ViewModels.Document> LawsAndPolicy = Model.DocumentList.Where(p => p.CategoryID == 1).ToList();
    List<ViewModels.Document> CaseStudies = Model.DocumentList.Where(p => p.CategoryID == 2).ToList();
    List<ViewModels.Document> Reports = Model.DocumentList.Where(p => p.CategoryID == 3).ToList();
}


<h2 class="text-blue">@Model.Area</h2>
<div class="wrapper">
    <div class="accordion">
        <div class="accordion-item border-no-radius mb-3" @(LawsAndPolicy.Count == 0 ? "hidden" : "")>
            <h2 class="accordion-header ">
                <button class="accordion-button bg-white border-left" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <strong>Law/Policy</strong>
                </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show">
                <div class="accordion-body border-top">
                    @foreach (ViewModels.Document item in LawsAndPolicy)
                    {
                        <div class="custom-border p-4 my-2 bg-white">
                            <h4 class="m-0">@item.Title</h4>
                            <small>@item.Publisher | @item.Year</small> <br>
                            <small class="text-muted">Keywords: @item.Keywords</small>
                            <div class="py-1 text-muted text-truncate-3">@Html.Raw(item.Description)</div>

                            <div class="d-flex justify-content-end">
                                <a href="@item.Attachment" class="btn btn-primary me-3" target="_blank">View Document</a>
                                <a href="@item.Source" class="btn btn-primary" target="_blank">View Source</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

        <div class="accordion-item border-no-radius mb-3" @(CaseStudies.Count == 0 ? "hidden" : "")>
            <h2 class="accordion-header ">
                <button class="accordion-button bg-white border-left" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="@(LawsAndPolicy.Count == 0 ? "true" : "false")" aria-controls="collapseTwo">
                    <strong>Case Studies</strong>
                </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse @(LawsAndPolicy.Count == 0 ? "show" : "")">
                <div class="accordion-body border-top">
                    @foreach (ViewModels.Document item in CaseStudies)
                    {
                        <div class="custom-border p-4 my-2 bg-white">
                            <h4 class="m-0">@item.Title</h4>
                            <small>@item.Publisher | @item.Year</small> <br>
                            <small class="text-muted">Keywords: @item.Keywords</small>
                            <div class="pt-1 text-muted text-truncate-3">@Html.Raw(item.Description)</div>

                            <div class="py-3 d-flex justify-content-end">
                                <a href="@item.Attachment" class="btn btn-primary me-3" target="_blank">View Document</a>
                                <a href="@item.Source" class="btn btn-primary" target="_blank">View Source</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

        <div class="accordion-item border-no-radius mb-3" @(Reports.Count == 0 ? "hidden" : "")>
            <h2 class="accordion-header border-top">
                <button class="accordion-button collapsed bg-white border-left" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="@(CaseStudies.Count == 0 && LawsAndPolicy.Count == 0 ? "true" : "false")" aria-controls="collapseThree">
                    <strong>Reports</strong>
                </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse @(CaseStudies.Count == 0 && LawsAndPolicy.Count == 0 ? "show" : "")">
                <div class="accordion-body border-top">
                    @foreach (ViewModels.Document item in Reports)
                    {
                        <div class="custom-border p-4 my-2 bg-white">
                            <h4 class="m-0">@item.Title</h4>
                            <small>@item.Publisher | @item.Year</small> <br>
                            <small class="text-muted">Keywords: @item.Keywords</small>
                            <div class="pt-1 text-muted text-truncate-3">@Html.Raw(item.Description)</div>

                            <div class="py-3 d-flex justify-content-end">
                                <a href="@item.Attachment" class="btn btn-primary me-3" target="_blank">View Document</a>
                                <a href="@item.Source" class="btn btn-primary" target="_blank">View Source</a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>