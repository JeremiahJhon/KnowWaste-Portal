@{
    Layout = "~/Areas/New/Views/Shared/_Layout.cshtml";
}

<!-- breadcrumb -->
<section class="breadcrumb">
    <div class=" container container-md container-lg py-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item text-uppercase"><a href="marine debris.html">Marine Debris</a></li>
                <li class="breadcrumb-item active text-uppercase" aria-current="page">Data</li>
            </ol>
        </nav>
    </div>
</section>

<!-- About Section -->
<section class="ptb-5 ">
    <div class="container pb-120">
        <div class="text-center pb-4">
            <h1 class="section-title pb-3 text-uppercase text-start">Data</h1>
            <p class="text-muted text-start">This section compiles and presents waste-related data from across ASEAN, helping stakeholders make evidence-based decisions to address marine litter and improve waste management. You will find data on waste generation, collection, recycling, and disposal. Our aim is to make this information accessible and actionable for policymakers, researchers, and practitioners working toward more sustainable systems. </p>
        </div>
        <div class="row">
            <div class="col-12 col-md-8 col-lg-12">
                <div class="wrapper">
                    <div class="custom-border p-4 mb-4">
                        <div class="mb-5">
                            <h2 class="m-0 text-blue text-center">Plastic Footprint</h2>
                            <!-- <small>Vietnam | 2018</small> -->
                            <p class="pt-3">The Decree provide detailed rules on recycling of discarded products and packaging materials under the Extended Producer Responsibility (EPR). The Decree sets out a list of regulated products and compulsory recycling rates.</p>
                            <div class="d-flex flex-wrap my-4">
                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Plastic Bottles (per week):</label>
                                    <input type="number" class="form-control" id="inputBottle">
                                </div>

                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Plastic Bags (per week):</label>
                                    <input type="number" class="form-control" id="inputPlasticBags">
                                </div>

                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Plastic Straws (per week):</label>
                                    <input type="number" class="form-control" id="inputStraws">
                                </div>

                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Disposable Coffee/Tea Cups (per week):</label>
                                    <input type="number" class="form-control" id="inputCups">
                                </div>

                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Plastic Food Wrappers (per week):</label>
                                    <input type="number" class="form-control" id="inputFoodWrappers">
                                </div>

                                <div class="mb-3 w-50 pe-3">
                                    <label for="exampleFormControlInput1" class="form-label">Recycling Rate (<span id="recycling-value">0%</span>):</label>
                                    <input type="range" class="form-range" min="0" max="100" step="10" value="0" id="inputRecycling">
                                </div>
                            </div>
                            <div class="text-center m-auto">
                                <button type="button" class="btn btn-primary" onclick="calculateFootprint()">Calculate my footprint</button>
                                <h3 class="my-4" id="result"></h3>
                                <p class="tip">Tip: Use reusable bottles and bags to cut your plastic waste!</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
</section>
@section scripts {
    <script>
        const itemWeights = {
            bottle: 0.02,
            bag: 0.005,
            straw: 0.001,
            cup: 0.01,
            wrapper: 0.01
        };

        document.getElementById('inputRecycling').addEventListener('input', function () {
            document.getElementById('recycling-value').textContent = this.value + '%';
        });

        function calculateFootprint() {
            const inputs = {
                bottle: Number(document.getElementById('inputBottle').value),
                bag: Number(document.getElementById('inputPlasticBags').value),
                straw: Number(document.getElementById('inputStraws').value),
                cup: Number(document.getElementById('inputCups').value),
                wrapper: Number(document.getElementById('inputFoodWrappers').value)
            };
            const recyclingRate = Number(document.getElementById('inputRecycling').value) / 100;

            let footprint90 = 0;
            for (const item in inputs) {
                footprint90 += inputs[item] * itemWeights[item] * 52;
            }

            const totalFootprint = footprint90 * 1.1;
            const netWaste = totalFootprint * (1 - recyclingRate);
            const bottleEquivalent = Math.round(totalFootprint / 0.02);

            document.getElementById('result').innerHTML =
                `Your single-use plastic footprint is ${totalFootprint.toFixed(2)} kg/year.<br>` +
                `After recycling, your net waste is ${netWaste.toFixed(2)} kg/year.<br>` +
                `That's equivalent to ${bottleEquivalent} plastic bottles!`;
        }
    </script>
}