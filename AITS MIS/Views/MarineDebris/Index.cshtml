@{
    Layout = "~/Views/MarineDebris/Shared.cshtml";
}
@using System.Data;

@{
    DataTable elearnings = (DataTable)ViewBag.ELearning;
    DataTable documents = (DataTable)ViewBag.Documents;
    DataTable blogs = (DataTable)ViewBag.Blogs;
    DataTable countries = (DataTable)ViewBag.Country;
}
<div class="row">
    <div class="landing-dark-bg">
        <div class="tns mh-400">
            <!--begin::Slider-->
            <div data-tns="true" data-tns-loop="true" data-tns-swipe-angle="false" data-tns-speed="2000" data-tns-autoplay="true" data-tns-autoplay-timeout="6000" data-tns-controls="false" data-tns-nav="false" data-tns-items="1" data-tns-mouse-drag="true" data-tns-center="false" data-tns-dots="false">
                <!--begin::Item-->
                <div class="text-center px-0 pt-0 pt-lg-0 px-lg-0 mh-400px min-h-400px" style="background-image: url(Content/marine-debris/AdobeStock_388696870.jpeg); background-repeat: no-repeat; background-size: cover; background-position: 50%">
                    <div class="min-h-400px px-20 py-20 mw-50" style="background-color: #2577BCcc; float: right;">
                        <div class="fs-1 fs-lg-2qx fw-bolder text-white mb-2">
                            Lorem ipsum dolor sit amet,
                            <span class="fw-normal">consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                        </div>
                    </div>
                </div>
                <!--end::Item-->
                <!--begin::Item-->
                <div class="text-center px-0 pt-0 pt-lg-0 px-lg-0 mh-400px min-h-400px" style="background-image: url(Content/marine-debris/AdobeStock_578026176.jpeg); background-repeat: no-repeat; background-size: cover; background-position: 50%">
                    <div class="min-h-400px px-20 py-20 mw-50" style="background-color: #2577BCcc; float: right;">
                        <div class="fs-1 fs-lg-2qx fw-bolder text-white mb-2">
                            Lorem ipsum dolor sit amet,
                            <span class="fw-normal">consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                        </div>
                    </div>
                </div>
                <!--end::Item-->
                <!--begin::Item-->
                <div class="text-center px-0 pt-0 pt-lg-0 px-lg-0 mh-400px min-h-400px" style="background-image: url(Content/marine-debris/AdobeStock_205485738.jpeg); background-repeat: no-repeat; background-size: cover; background-position: 50%">
                    <div class="min-h-400px px-20 py-20 mw-50" style="background-color: #2577BCcc; float: right;">
                        <div class="fs-1 fs-lg-2qx fw-bolder text-white mb-2">
                            Lorem ipsum dolor sit amet,
                            <span class="fw-normal">consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                        </div>
                    </div>
                </div>
                <!--end::Item-->
            </div>
            <!--end::Slider-->
        </div>
        <!--<div class="d-flex flex-column flex-center w-100 px-9 mt-5">-->
        <!--begin::Clients-->
        <!--<div class="d-flex flex-center flex-wrap position-relative px-5">-->
        <!--begin::Client-->
        <!--<div class="d-flex flex-center m-3 m-md-6" data-bs-toggle="tooltip" title="Fujifilm">
            <img src="https://ikhapp.org/wp-content/themes/knowledgehub/asstes/images/logo/ikhapp.svg" class="mh-30px mh-lg-40px" alt="" />
        </div>-->
        <!--end::Client-->
        <!--begin::Client-->
        <!--<div class="d-flex flex-center m-3 m-md-6" data-bs-toggle="tooltip" title="Vodafone">
            <img src="https://rkcmpd-eria.org/wp-content/uploads/2022/08/logo-rkc-mpd-high-new.png" class="mh-30px mh-lg-40px" alt="" />
        </div>-->
        <!--end::Client-->
        <!--</div>-->
        <!--end::Clients-->
        <!--</div>-->
    </div>
</div>

<div class="container d-flex flex-column flex-center w-100 min-h-350px min-h-lg-500px px-9">
    <div class="row w-100 gy-10 mb-md-10 mt-md-5">
        <div class="col-md-6 px-2">
            <div class="w-100 h-100 d-flex flex-column rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                <div class="mb-7 text-center">
                    <!--begin::Title-->
                    <h1 class="text-dark mb-5 fw-boldest" style="color: #2577BC!important; ">E-Learning Courses</h1>
                    <!--end::Title-->
                    <!--begin::Description-->
                    <div class="text-gray-400 fw-bold mb-15">Short description here</div>
                    <div class="w-100 mb-5">
                        @foreach (DataRow row in elearnings.Rows)
                        {
                            <div class="d-flex mb-5">
                                <div class="mx-5 my-2"><img src="~/Content/icons/pdf-icon.png" height="30" /></div>
                                <span class="fw-bold fs-6 text-gray-800 text-start pe-3">@row["Title"].ToString()</span>
                            </div>
                        }
                    </div>
                </div>
                <a href="MarineDebris/ELearning" class="menu-link px-3 m-auto">
                    See more
                </a>
            </div>
        </div>
        <div class="col-md-6 px-2">
            <div class="w-100 h-100 d-flex flex-column rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                <div class="mb-7 text-center">
                    <!--begin::Title-->
                    <h1 class="text-dark mb-5 fw-boldest" style="color: #2577BC!important; ">Documents</h1>
                    <!--end::Title-->
                    <!--begin::Description-->
                    <div class="text-gray-400 fw-bold mb-15">Short description here</div>
                    <div class="w-100 mb-5">
                        @foreach (DataRow row in documents.Rows)
                        {
                            <div class="d-flex mb-5">
                                <div class="mx-5 my-2"><img src="~/Content/icons/pdf-icon.png" height="30" /></div>
                                <span class="fw-bold fs-6 text-gray-800 text-start pe-3">@row["Title"].ToString()</span>
                            </div>
                        }
                    </div>
                </div>
                <a href="MarineDebris/Documents" class="menu-link px-3 m-auto">
                    See more
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!--begin::Curve bottom-->
    <div id="pb_line" class="h-150px landing-curve landing-dark-color" style="background-repeat: no-repeat; background-image: url(&quot;/Content/static/AdobeStock_584264594.jpeg&quot;); background-size: cover;">
        @*<svg viewBox="15 12 1470 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 11C3.93573 11.3356 7.85984 11.6689 11.7725 12H1488.16C1492.1 11.6689 1496.04 11.3356 1500 11V12H1488.16C913.668 60.3476 586.282 60.6117 11.7725 12H0V11Z" fill="currentColor"></path>
            </svg>*@
    </div>
    <!--end::Curve bottom-->
    <script>
        document.addEventListener("scroll", (event) => {
            var scrollPos = window.scrollY;
            var elemPos = document.getElementById("pb_line").offsetTop;
            document.getElementById("pb_line").style.backgroundPosition = "50% -" + String((parseFloat(elemPos) * 0.3) - (parseFloat(scrollPos) * 0.3)) + "px";
        });
    </script>
</div>

<div class="py-10 py-lg-20">
    <!--begin::Container-->
    <div class="container">
        <!--begin::Heading-->
        <div class="text-center mb-12">
            <!--begin::Title-->
            <h3 class="fs-2hx text-dark mb-5" id="team" data-kt-scroll-offset="{default: 100, lg: 150}">Good Practices</h3>
            <!--end::Title-->
            <!--begin::Sub-title-->
            <div class="fs-5 text-muted fw-bold">
                Description Here - Lorem ipsum dolor sit amet,
                <br>Details here - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
            <!--end::Sub-title=-->
        </div>
        <!--end::Heading-->
        <!--begin::Slider-->
        <div class="tns tns-default tns-initiazlied">
            <!--begin::Wrapper-->
            <div class="tns-outer" id="tns2-ow">
                <div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">7 to 8</span>  of 7</div><div id="tns2-mw" class="tns-ovh">
                    <div class="tns-inner" id="tns2-iw">
                        <div data-tns="true" data-tns-loop="true" data-tns-swipe-angle="false" data-tns-speed="2000" data-tns-autoplay="true" data-tns-autoplay-timeout="18000" data-tns-controls="true" data-tns-nav="false" data-tns-items="1" data-tns-center="false" data-tns-dots="false" data-tns-prev-button="#kt_team_slider_prev" data-tns-next-button="#kt_team_slider_next" data-tns-responsive="{1200: {items: 4}, 968: {items: 3}}" class="  tns-slider tns-carousel tns-subpixel tns-calc tns-horizontal" id="tns2" style="transform: translate3d(-40%, 0px, 0px);">
                            @foreach (DataRow row in blogs.Rows)
                            {
                                <div class="text-center tns-item tns-slide-cloned" aria-hidden="true" tabindex="-1">
                                    <!--begin::Photo-->
                                    <div class="mx-auto mb-5 d-flex w-200px h-200px bgi-no-repeat bgi-size-contain bgi-position-center" style="background-image:url('Documents/Blogs/@row["Photo"].ToString()'); background-size: cover;"></div>
                                    <!--end::Photo-->
                                    <!--begin::Person-->
                                    <div class="mb-0">
                                        <!--begin::Name-->
                                        <a href="#" class="text-dark fw-bolder text-hover-primary fs-3">@row["Title"].ToString()</a>
                                        <!--end::Name-->
                                        <!--begin::Position-->
                                        <div class="text-muted fs-6 fw-bold mt-1">Tagline</div>
                                        <!--begin::Position-->
                                    </div>
                                    <!--end::Person-->
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <!--end::Wrapper-->
            <!--begin::Button-->
            <button class="btn btn-icon btn-active-color-primary" id="kt_team_slider_prev" aria-controls="tns2" tabindex="-1" data-controls="prev">
                <!--begin::Svg Icon | path: icons/duotune/arrows/arr074.svg-->
                <span class="svg-icon svg-icon-3x">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M11.2657 11.4343L15.45 7.25C15.8642 6.83579 15.8642 6.16421 15.45 5.75C15.0358 5.33579 14.3642 5.33579 13.95 5.75L8.40712 11.2929C8.01659 11.6834 8.01659 12.3166 8.40712 12.7071L13.95 18.25C14.3642 18.6642 15.0358 18.6642 15.45 18.25C15.8642 17.8358 15.8642 17.1642 15.45 16.75L11.2657 12.5657C10.9533 12.2533 10.9533 11.7467 11.2657 11.4343Z" fill="black"></path>
                    </svg>
                </span>
                <!--end::Svg Icon-->
            </button>
            <!--end::Button-->
            <!--begin::Button-->
            <button class="btn btn-icon btn-active-color-primary" id="kt_team_slider_next" aria-controls="tns2" tabindex="-1" data-controls="next">
                <!--begin::Svg Icon | path: icons/duotune/arrows/arr071.svg-->
                <span class="svg-icon svg-icon-3x">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12.6343 12.5657L8.45001 16.75C8.0358 17.1642 8.0358 17.8358 8.45001 18.25C8.86423 18.6642 9.5358 18.6642 9.95001 18.25L15.4929 12.7071C15.8834 12.3166 15.8834 11.6834 15.4929 11.2929L9.95001 5.75C9.5358 5.33579 8.86423 5.33579 8.45001 5.75C8.0358 6.16421 8.0358 6.83579 8.45001 7.25L12.6343 11.4343C12.9467 11.7467 12.9467 12.2533 12.6343 12.5657Z" fill="black"></path>
                    </svg>
                </span>
                <!--end::Svg Icon-->
            </button>
            <!--end::Button-->
        </div>
        <!--end::Slider-->
    </div>
    <!--end::Container-->
</div>

<div class="container d-flex flex-column flex-center w-100 min-h-350px min-h-lg-500px px-9">
    <div class="row w-100 gy-10 mb-md-10 mt-md-5">
        <div class="col-md-6 px-2">
            <div class="w-100 d-flex flex-column flex-center rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                <div class="col-md-10 mb-7 text-center">
                    <!--begin::Title-->
                    <h1 class="text-dark mb-5 fw-boldest">Solid Waste</h1>
                    <!--end::Title-->
                    <!--begin::Description-->
                    <div class="text-gray-400 fw-bold mb-5">Short description here</div>
                    <div class="d-flex mb-10">
                        <button id="kt_drawer_example_basic_button" class="btn btn-primary">
                            <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="black"></path>
                                </svg>
                            </span>Filter
                        </button>
                    </div>
                    <div id="chart-1" style="height: 350px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6 px-2">
            <div class="w-100 d-flex flex-column flex-center rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                <div class="col-md-10 mb-7 text-center">
                    <!--begin::Title-->
                    <h1 class="text-dark mb-5 fw-boldest">Plastic Waste</h1>
                    <!--end::Title-->
                    <!--begin::Description-->
                    <div class="text-gray-400 fw-bold mb-5">Short description here</div>
                    <div class="tab-content d-flex">
                        <!--begin::Container-->
                        <div class="col-md-6 d-flex px-2 d-none">
                            <label class="m-auto px-2">
                                Country
                            </label>
                            <select id="filter-Area" name="Area" class="form-select form-select form-select-solid" data-placeholder="Select an option" style="border-color: #009ef7 !important;" aria-label="Area">
                                <option>All</option>
                                <option>Brunei Darussalam</option>
                                <option>Cambodia</option>
                                <option>Indonesia</option>
                                <option>Lao PDR</option>
                                <option>Malaysia</option>
                                <option>Myanmar</option>
                                <option>Singapore</option>
                                <option>Thailand</option>
                                <option>Timor-Leste</option>
                                <option>Viet Nam</option>
                                <option>Philippines</option>
                                <option>China</option>
                            </select>
                        </div>
                        <div class="col-md-6 d-flex px-2 d-none">
                            <label class="m-auto px-2">
                                Area
                            </label>
                            <select id="filter-Area" name="Area" class="form-select form-select form-select-solid" data-placeholder="Select an option" style="border-color: #009ef7 !important;" aria-label="Area">
                                <option>All</option>
                                <option>Generated</option>
                                <option>Collected</option>
                                <option>Recycled</option>
                                <option>Recovered</option>
                                <option>Disposed</option>
                            </select>
                        </div>
                        <!--end::Container-->
                    </div>
                    <div class="d-flex mb-10">
                        <button id="kt_drawer_example_basic_button" class="btn btn-primary">
                            <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="black"></path>
                                </svg>
                            </span>Filter
                        </button>
                    </div>
                    <div id="chart-2" style="height: 350px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="kt_drawer_example_basic" class="bg-white drawer drawer-end" data-kt-drawer="true" data-kt-drawer-activate="true" data-kt-drawer-toggle="#kt_drawer_example_basic_button" data-kt-drawer-close="#kt_drawer_example_basic_close" data-kt-drawer-width="250px">
    <!--begin::Card-->
    <div class="card w-100 rounded-0">
        <!--begin::Card header-->
        <div class="card-header pe-5">
            <!--begin::Title-->
            <div class="card-title">
                <!--begin::User-->
                <div class="d-flex justify-content-center flex-column me-3">
                    <a href="#" class="fs-4 fw-bolder text-gray-900 text-hover-primary me-1 lh-1">Filter Data</a>
                </div>
                <!--end::User-->
            </div>
            <!--end::Title-->
            <!--begin::Card toolbar-->
            <div class="card-toolbar">
                <!--begin::Close-->
                <div class="btn btn-sm btn-icon btn-active-light-primary" id="kt_drawer_example_basic_close">
                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                    <span class="svg-icon svg-icon-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                            <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                        </svg>
                    </span>
                    <!--end::Svg Icon-->
                </div>
                <!--end::Close-->
            </div>
            <!--end::Card toolbar-->
        </div>
        <!--end::Card header-->
        <!--begin::Card body-->
        <div class="card-body hover-scroll-overlay-y">
            <form id="form-filter">
                <div class="m-5 mb-10" ">
                    <h2 class="mb-3">Country</h2>
                    <div class="w-100">
                        @foreach (DataRow row in countries.Rows)
                        {
                            <div class="form-check form-switch form-check-custom form-check-solid m-2">
                                <input class="form-check-input h-20px w-30px country-filter" name="country" type="checkbox" value="@row["ID"].ToString()" id="country-@row["ID"].ToString()" checked="checked" />
                                <label class="form-check-label" for="country-@row["ID"].ToString()">
                                    @row["Name"].ToString()
                                </label>
                            </div>
                        }
                    </div>
                </div>
                <div class="m-5 mb-10">
                    <h2 class="mb-3">Type</h2>
                    <div class="w-100">
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px type-filter" name="type" type="checkbox" value="Generated" id="type-generated" checked="checked">
                            <label class="form-check-label" for="type-generated">
                                Generated
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px type-filter" name="type" type="checkbox" value="Collected" id="type-collected" checked="checked">
                            <label class="form-check-label" for="type-collected">
                                Collected
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px type-filter" name="type" type="checkbox" value="Recycled" id="type-recycled" checked="checked">
                            <label class="form-check-label" for="type-recycled">
                                Recycled
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px type-filter" name="type" type="checkbox" value="Recovered" id="type-recovered" checked="checked">
                            <label class="form-check-label" for="type-recovered">
                                Recovered
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px type-filter" name="type" type="checkbox" value="Disposal" id="type-disposal" checked="checked">
                            <label class="form-check-label" for="type-disposal">
                                Disposal
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!--end::Card body-->
        <div class="card-footer pe-5">
            <button type="button" class="btn btn-success m-2" id="button-filter-apply">Apply</button>
        </div>
    </div>
    <!--end::Card-->
</div>
<script src="\Scripts\jquery-3.6.4.min.js"></script>
<script>
    var chart1;
    var chart2;
    $(document).ready(function () {
        createSolidWasteGraph();
        createPlasticWasteGraph();
        $("#button-filter-apply").click(function () {
            chart1.destroy();
            chart2.destroy();
            createSolidWasteGraph();
            createPlasticWasteGraph();
            $("#kt_drawer_example_basic_close").click();
        });
        function createSolidWasteGraph(id, x_axis, series) {
            const formData = new FormData(document.getElementById("form-filter"));
            $.ajax({
                url: '/MarineDebris/getSolidWasteGraphData',
                data: $("#form-filter").serialize(),
                type: 'POST',
                processData: false,
                success: function (data) {
                    var graphData = JSON.parse(data);
                    var x_axis = [];
                    var series = [];
                    var data_ = [];
                    var count = 0;
                    if (graphData.length > 0) {
                        if (graphData[0].hasOwnProperty("Generated")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Generated"];
                            }
                            series[count] = {
                                name: "Generated",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Collected")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Collected"];
                            }
                            series[count] = {
                                name: "Collected",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Recycled")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recycled"];
                            }
                            series[count] = {
                                name: "Recycled",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Recovered")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recovered"];
                            }
                            series[count] = {
                                name: "Recovered",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Disposal")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Disposal"];
                            }
                            series[count] = {
                                name: "Disposal",
                                data: data_
                            }
                            count++;
                        }
                        console.log(x_axis);
                        console.log(series);

                        var options = {
                            series: series,
                            chart: {
                                type: 'bar',
                                stacked: true,
                                height: 350
                            },
                            plotOptions: {
                                bar: {
                                    horizontal: false,
                                    columnWidth: '55%',
                                    endingShape: 'rounded'
                                },
                            },
                            dataLabels: {
                                enabled: false
                            },
                            stroke: {
                                show: true,
                                width: 2,
                                colors: ['transparent']
                            },
                            xaxis: {
                                categories: x_axis,
                            },
                            fill: {
                                opacity: 1
                            },
                            tooltip: {
                                y: {
                                    formatter: function (val) {
                                        return val
                                    }
                                }
                            },
                            noData: {
                                text: 'No Data'
                            }
                        };

                        chart1 = new ApexCharts(document.querySelector("#chart-1"), options);
                        chart1.render();
                    } else {
                        var options = {
                            chart: {
                                height: 350,
                                type: 'bar',
                            },
                            dataLabels: {
                                enabled: false
                            },
                            series: [],
                            noData: {
                                text: 'No Data'
                            }
                        }

                        chart1 = new ApexCharts(document.querySelector("#chart-1"), options);
                        chart1.render();
                    }
                },
                error: function (err) {
                    console.log(err);
                },
            });
        }
        function createPlasticWasteGraph(id, x_axis, series) {
            $.ajax({
                url: '/MarineDebris/getPlasticWasteGraphData',
                data: $("#form-filter").serialize(),
                type: 'POST',
                processData: false,
                success: function (data) {
                    var graphData = JSON.parse(data);
                    console.log(graphData);
                    var x_axis = [];
                    var series = [];
                    var data_ = [];
                    var count = 0;
                    if (graphData.length > 0) {
                        if (graphData[0].hasOwnProperty("Generated")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Generated"];
                            }
                            series[count] = {
                                name: "Generated",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Collected")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Collected"];
                            }
                            series[count] = {
                                name: "Collected",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Recycled")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recycled"];
                            }
                            series[count] = {
                                name: "Recycled",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Recovered")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recovered"];
                            }
                            series[count] = {
                                name: "Recovered",
                                data: data_
                            }
                            count++;
                        }
                        if (graphData[0].hasOwnProperty("Disposal")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Disposal"];
                            }
                            series[count] = {
                                name: "Disposal",
                                data: data_
                            }
                            count++;
                        }
                        console.log(x_axis);
                        console.log(series);

                        var options = {
                            series: series,
                            chart: {
                                type: 'bar',
                                stacked: true,
                                height: 350
                            },
                            plotOptions: {
                                bar: {
                                    horizontal: false,
                                    columnWidth: '55%',
                                    endingShape: 'rounded'
                                },
                            },
                            dataLabels: {
                                enabled: false
                            },
                            stroke: {
                                show: true,
                                width: 2,
                                colors: ['transparent']
                            },
                            xaxis: {
                                categories: x_axis,
                            },
                            fill: {
                                opacity: 1
                            },
                            tooltip: {
                                y: {
                                    formatter: function (val) {
                                        return val
                                    }
                                }
                            },
                            noData: {
                                text: 'No Data'
                            }
                        };

                        chart2 = new ApexCharts(document.querySelector("#chart-2"), options);
                        chart2.render();
                    } else {
                        var options = {
                            chart: {
                                height: 350,
                                type: 'bar',
                            },
                            dataLabels: {
                                enabled: false
                            },
                            series: [],
                            noData: {
                                text: 'No Data'
                            }
                        }

                        chart2 = new ApexCharts(document.querySelector("#chart-2"), options);
                        chart2.render();
                    }
                },
                error: function (err) {
                    console.log(err);
                },
            })
        }
    });
</script>