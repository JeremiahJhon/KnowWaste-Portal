@{
    Layout = "~/Views/MarineDebris/Shared.cshtml";
}
@using System.Data;

@{
    DataTable countries = (DataTable)ViewBag.Country;
}
<div class="row">
    <div class="landing-dark-bg h-100px">
        <div class="text-center py-lg-5">
            <!--begin::Title-->
            <!--begin::Title-->
            <h1 class="text-white lh-base fw-bolder fs-2x fs-lg-3x">
                <span style="background: linear-gradient(to right, #12CE5D 0%, #FFD80C 100%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;">
                    <span id="kt_landing_hero_text">Marine Debris</span>
                </span>
            </h1>
            <!--end::Title-->
        </div>
    </div>

    <!--begin::Curve bottom-->
    <div id="pb_line" class="landing-curve landing-dark-color">
        <svg viewBox="15 12 1470 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 11C3.93573 11.3356 7.85984 11.6689 11.7725 12H1488.16C1492.1 11.6689 1496.04 11.3356 1500 11V12H1488.16C913.668 60.3476 586.282 60.6117 11.7725 12H0V11Z" fill="currentColor"></path>
        </svg>
    </div>
    <!--end::Curve bottom-->
</div>
<div class="mt-lg-n15 mb-lg-20 position-relative z-index-2">
    <!--begin::Container-->
    <div class="container">
        <!--begin::Card-->
        <div class="card" style="filter: drop-shadow(0px 0px 10px rgba(68, 81, 96, 0.08))">
            <!--begin::Card body-->
            <div class="card-body p-lg-20">
                <!--begin::Heading-->
                <div class="text-center mb-5 mb-lg-10">
                    <!--begin::Title-->
                    <h3 class="fs-2hx text-dark mb-5" id="portfolio" data-kt-scroll-offset="{default: 100, lg: 150}" style="color: #2577BC!important; ">@ViewBag.Title</h3>
                    <!--end::Title-->
                </div>
                <!--end::Heading-->
                <div class="row p-5">
                    <div class="col-md-6 px-2">
                        <div class="w-100 h-100 d-flex flex-column rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                            <div class="col-md-12 mb-7 text-center">
                                <!--begin::Title-->
                                <h1 class="text-dark mb-5 fw-boldest">Solid Waste</h1>
                                <!--end::Title-->
                                <!--begin::Description-->
                                <div class="text-gray-400 fw-bold mb-5 d-none">Short description here</div>
                                <div class="d-flex flex-center mb-10">
                                    <button id="kt_drawer_filter_1_button" class="btn btn-primary py-2 px-4">
                                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="black"></path>
                                            </svg>
                                        </span>Filter
                                    </button>
                                </div>
                                <div id="chart-1" style="height: 350px;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 px-2">
                        <div class="w-100 h-100 d-flex flex-column rounded-3 bg-body py-15 px-10" style="filter: drop-shadow(0px 0px 5px rgba(68, 81, 96, 0.1))">
                            <div class="col-md-12 mb-7 text-center">
                                <!--begin::Title-->
                                <h1 class="text-dark mb-5 fw-boldest">Plastic Waste</h1>
                                <!--end::Title-->
                                <!--begin::Description-->
                                <div class="text-gray-400 fw-bold mb-5 d-none">Short description here</div>
                                <div class="tab-content d-flex">
                                    <!--begin::Container-->
                                    <div class="col-md-6 d-flex px-2 d-none">
                                        <label class="m-auto px-2">
                                            Country
                                        </label>
                                        <select id="filter-Area" name="Area" class="form-select form-select form-select-solid" data-placeholder="Select an option" style="border-color: #009ef7 !important;" aria-label="Area">
                                            <option>All</option>
                                            <option>Brunei Darussalam</option>
                                            <option>Cambodia</option>
                                            <option>Indonesia</option>
                                            <option>Lao PDR</option>
                                            <option>Malaysia</option>
                                            <option>Myanmar</option>
                                            <option>Singapore</option>
                                            <option>Thailand</option>
                                            <option>Timor-Leste</option>
                                            <option>Viet Nam</option>
                                            <option>Philippines</option>
                                            <option>China</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 d-flex px-2 d-none">
                                        <label class="m-auto px-2">
                                            Area
                                        </label>
                                        <select id="filter-Area" name="Area" class="form-select form-select form-select-solid" data-placeholder="Select an option" style="border-color: #009ef7 !important;" aria-label="Area">
                                            <option>All</option>
                                            <option>Generated</option>
                                            <option>Collected</option>
                                            <option>Recycled</option>
                                            <option>Recovered</option>
                                            <option>Disposed</option>
                                        </select>
                                    </div>
                                    <!--end::Container-->
                                </div>
                                <div class="d-flex flex-center mb-10">
                                    <button id="kt_drawer_filter_2_button" class="btn btn-primary py-2 px-4">
                                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="black"></path>
                                            </svg>
                                        </span>Filter
                                    </button>
                                </div>
                                <div id="chart-2" style="height: 350px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::Card body-->
        </div>
        <!--end::Card-->
    </div>
    <!--end::Container-->
</div>


<div id="kt_drawer_filter_1_basic" class="bg-white drawer drawer-end" data-kt-drawer="true" data-kt-drawer-activate="true" data-kt-drawer-toggle="#kt_drawer_filter_1_button" data-kt-drawer-close="#kt_drawer_filter_1_close" data-kt-drawer-width="250px">
    <!--begin::Card-->
    <div class="card w-100 rounded-0">
        <!--begin::Card header-->
        <div class="card-header pe-5">
            <!--begin::Title-->
            <div class="card-title">
                <!--begin::User-->
                <div class="d-flex justify-content-center flex-column me-3">
                    <a href="#" class="fs-4 fw-bolder text-gray-900 text-hover-primary me-1 lh-1">Filter Data</a>
                </div>
                <!--end::User-->
            </div>
            <!--end::Title-->
            <!--begin::Card toolbar-->
            <div class="card-toolbar">
                <!--begin::Close-->
                <div class="btn btn-sm btn-icon btn-active-light-primary" id="kt_drawer_filter_1_close">
                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                    <span class="svg-icon svg-icon-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                            <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                        </svg>
                    </span>
                    <!--end::Svg Icon-->
                </div>
                <!--end::Close-->
            </div>
            <!--end::Card toolbar-->
        </div>
        <!--end::Card header-->
        <!--begin::Card body-->
        <div class="card-body hover-scroll-overlay-y pt-2">
            <form id="form-filter-1">
                <div class="m-5 mb-10" ">
                    <h3 class="mb-3">Country</h3>
                    <div class="w-100">
                        <div class="form-check form-switch form-check-custom form-check-solid m-2 mb-5">
                            <input class="form-check-input h-20px w-30px" name="solid-country-all" type="checkbox" value="All" id="solid-country-all" checked="checked" />
                            <label class="form-check-label" for="solid-country-all">
                                All
                            </label>
                        </div>
                        @foreach (DataRow row in countries.Rows)
                        {
                            <div class="form-check form-switch form-check-custom form-check-solid m-2">
                                <input class="form-check-input h-20px w-30px solid-country-filter" name="country" type="checkbox" value="@row["ID"].ToString()" id="country-@row["ID"].ToString()" checked="checked" />
                                <label class="form-check-label" for="country-@row["ID"].ToString()">
                                    @row["Name"].ToString()
                                </label>
                            </div>
                        }
                    </div>
                </div>
                <div class="m-5 mb-10">
                    <h3 class="mb-3">Type</h3>
                    <div class="w-100">
                        <div class="form-check form-switch form-check-custom form-check-solid m-2 mb-5">
                            <input class="form-check-input h-20px w-30px" name="solid-type-all" type="checkbox" value="All" id="solid-type-all" checked="checked" />
                            <label class="form-check-label" for="solid-type-all">
                                All
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px solid-type-filter" name="type" type="checkbox" value="Generated" id="type-generated" checked="checked">
                            <label class="form-check-label" for="type-generated">
                                Generated
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px solid-type-filter" name="type" type="checkbox" value="Collected" id="type-collected" checked="checked">
                            <label class="form-check-label" for="type-collected">
                                Collected
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px solid-type-filter" name="type" type="checkbox" value="Recycled" id="type-recycled" checked="checked">
                            <label class="form-check-label" for="type-recycled">
                                Recycled
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px solid-type-filter" name="type" type="checkbox" value="Recovered" id="type-recovered" checked="checked">
                            <label class="form-check-label" for="type-recovered">
                                Recovered
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px solid-type-filter" name="type" type="checkbox" value="Disposal" id="type-disposal" checked="checked">
                            <label class="form-check-label" for="type-disposal">
                                Disposal
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!--end::Card body-->
        <div class="card-footer pe-5">
            <button type="button" class="btn btn-success" id="button-filter-apply-1">Apply</button>
        </div>
    </div>
    <!--end::Card-->
</div>

<div id="kt_drawer_filter_2_basic" class="bg-white drawer drawer-end" data-kt-drawer="true" data-kt-drawer-activate="true" data-kt-drawer-toggle="#kt_drawer_filter_2_button" data-kt-drawer-close="#kt_drawer_filter_2_close" data-kt-drawer-width="250px">
    <!--begin::Card-->
    <div class="card w-100 rounded-0">
        <!--begin::Card header-->
        <div class="card-header pe-5">
            <!--begin::Title-->
            <div class="card-title">
                <!--begin::User-->
                <div class="d-flex justify-content-center flex-column me-3">
                    <a href="#" class="fs-4 fw-bolder text-gray-900 text-hover-primary me-1 lh-1">Filter Data</a>
                </div>
                <!--end::User-->
            </div>
            <!--end::Title-->
            <!--begin::Card toolbar-->
            <div class="card-toolbar">
                <!--begin::Close-->
                <div class="btn btn-sm btn-icon btn-active-light-primary" id="kt_drawer_filter_2_close">
                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                    <span class="svg-icon svg-icon-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black"></rect>
                            <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black"></rect>
                        </svg>
                    </span>
                    <!--end::Svg Icon-->
                </div>
                <!--end::Close-->
            </div>
            <!--end::Card toolbar-->
        </div>
        <!--end::Card header-->
        <!--begin::Card body-->
        <div class="card-body hover-scroll-overlay-y pt-2">
            <form id="form-filter-2">
                <div class="m-5 mb-10" ">
                    <h3 class="mb-3">Country</h3>
                    <div class="w-100">
                        <div class="form-check form-switch form-check-custom form-check-solid m-2 mb-5">
                            <input class="form-check-input h-20px w-30px" name="plastic-country-all" type="checkbox" value="All" id="plastic-country-all" checked="checked" />
                            <label class="form-check-label" for="plastic-country-all">
                                All
                            </label>
                        </div>
                        @foreach (DataRow row in countries.Rows)
                        {
                            <div class="form-check form-switch form-check-custom form-check-solid m-2">
                                <input class="form-check-input h-20px w-30px plastic-country-filter" name="country" type="checkbox" value="@row["ID"].ToString()" id="country-@row["ID"].ToString()" checked="checked" />
                                <label class="form-check-label" for="country-@row["ID"].ToString()">
                                    @row["Name"].ToString()
                                </label>
                            </div>
                        }
                    </div>
                </div>
                <div class="m-5 mb-10">
                    <h3 class="mb-3">Type</h3>
                    <div class="w-100">
                        <div class="form-check form-switch form-check-custom form-check-solid m-2 mb-5">
                            <input class="form-check-input h-20px w-30px" name="plastic-type-all" type="checkbox" value="All" id="plastic-type-all" checked="checked" />
                            <label class="form-check-label" for="plastic-type-all">
                                All
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px plastic-type-filter" name="type" type="checkbox" value="Generated" id="type-generated" checked="checked">
                            <label class="form-check-label" for="type-generated">
                                Generated
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px plastic-type-filter" name="type" type="checkbox" value="Collected" id="type-collected" checked="checked">
                            <label class="form-check-label" for="type-collected">
                                Collected
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px plastic-type-filter" name="type" type="checkbox" value="Recycled" id="type-recycled" checked="checked">
                            <label class="form-check-label" for="type-recycled">
                                Recycled
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px plastic-type-filter" name="type" type="checkbox" value="Recovered" id="type-recovered" checked="checked">
                            <label class="form-check-label" for="type-recovered">
                                Recovered
                            </label>
                        </div>
                        <div class="form-check form-switch form-check-custom form-check-solid m-2">
                            <input class="form-check-input h-20px w-30px plastic-type-filter" name="type" type="checkbox" value="Disposal" id="type-disposal" checked="checked">
                            <label class="form-check-label" for="type-disposal">
                                Disposal
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!--end::Card body-->
        <div class="card-footer pe-5">
            <button type="button" class="btn btn-success" id="button-filter-apply-2">Apply</button>
        </div>
    </div>
    <!--end::Card-->
</div>

<script src="\Scripts\jquery-3.6.4.min.js"></script>
<script>
    var chart1;
    var chart2;
    $(document).ready(function () {
        createSolidWasteGraph();
        createPlasticWasteGraph();
        $("#button-filter-apply-1").click(function () {
            chart1.destroy();
            createSolidWasteGraph();
            $("#kt_drawer_filter_1_close").click();
        });
        $("#button-filter-apply-2").click(function () {
            chart2.destroy();
            createPlasticWasteGraph();
            $("#kt_drawer_filter_2_close").click();
        });
        function createSolidWasteGraph(id, x_axis, series) {
            $.ajax({
                url: '/MarineDebris/getSolidWasteGraphData',
                data: $("#form-filter-1").serialize(),
                type: 'POST',
                processData: false,
                success: function (data) {
                    var graphData = JSON.parse(data);
                    var x_axis = [];
                    var series = [];
                    var data_ = [];
                    var count = 0;
                    if (graphData.length > 0) {
                        if (graphData[0].hasOwnProperty("Generated")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Generated"];
                            }
                            series[count] = {
                                name: "Generated",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Collected")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Collected"];
                            }
                            series[count] = {
                                name: "Collected",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Recycled")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recycled"];
                            }
                            series[count] = {
                                name: "Recycled",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Recovered")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recovered"];
                            }
                            series[count] = {
                                name: "Recovered",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Disposal")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Disposal"];
                            }
                            series[count] = {
                                name: "Disposal",
                                data: data_
                            }
                            count++;
                        }
                        console.log(x_axis);
                        console.log(series);

                        var options = {
                            series: series,
                            chart: {
                                type: 'bar',
                                stacked: false,
                                height: 400
                            },
                            plotOptions: {
                                bar: {
                                    horizontal: false,
                                    columnWidth: '55%',
                                    endingShape: 'rounded'
                                },
                            },
                            dataLabels: {
                                enabled: false
                            },
                            stroke: {
                                show: true,
                                width: 2,
                                colors: ['transparent']
                            },
                            xaxis: {
                                categories: x_axis,
                            },
                            fill: {
                                opacity: 1
                            },
                            tooltip: {
                                enabled: true,
                                y: {
                                    formatter: function (val) {
                                        return val.toLocaleString('en-US');
                                    }
                                }
                            },
                            noData: {
                                text: 'No Data'
                            }
                        };

                        chart1 = new ApexCharts(document.querySelector("#chart-1"), options);
                        chart1.render();
                    } else {
                        var options = {
                            chart: {
                                height: 350,
                                type: 'bar',
                            },
                            dataLabels: {
                                enabled: false
                            },
                            series: [],
                            noData: {
                                text: 'No Data'
                            }
                        }

                        chart1 = new ApexCharts(document.querySelector("#chart-1"), options);
                        chart1.render();
                    }
                },
                error: function (err) {
                    console.log(err);
                },
            });
        }
        function createPlasticWasteGraph(id, x_axis, series) {
            $.ajax({
                url: '/MarineDebris/getPlasticWasteGraphData',
                data: $("#form-filter-2").serialize(),
                type: 'POST',
                processData: false,
                success: function (data) {
                    var graphData = JSON.parse(data);
                    console.log(graphData);
                    var x_axis = [];
                    var series = [];
                    var data_ = [];
                    var count = 0;
                    if (graphData.length > 0) {
                        if (graphData[0].hasOwnProperty("Generated")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Generated"];
                            }
                            series[count] = {
                                name: "Generated",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Collected")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Collected"];
                            }
                            series[count] = {
                                name: "Collected",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Recycled")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recycled"];
                            }
                            series[count] = {
                                name: "Recycled",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Recovered")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Recovered"];
                            }
                            series[count] = {
                                name: "Recovered",
                                data: data_
                            }
                            count++;
                        }
                        data_ = [];
                        if (graphData[0].hasOwnProperty("Disposal")) {
                            for (var ctr = 0; ctr < graphData.length; ctr++) {
                                x_axis[ctr] = graphData[ctr]["Year"];
                                data_[ctr] = graphData[ctr]["Disposal"];
                            }
                            series[count] = {
                                name: "Disposal",
                                data: data_
                            }
                            count++;
                        }
                        console.log(x_axis);
                        console.log(series);

                        var options = {
                            series: series,
                            chart: {
                                type: 'bar',
                                stacked: false,
                                height: 350
                            },
                            plotOptions: {
                                bar: {
                                    horizontal: false,
                                    columnWidth: '55%',
                                    endingShape: 'rounded'
                                },
                            },
                            dataLabels: {
                                enabled: false
                            },
                            stroke: {
                                show: true,
                                width: 2,
                                colors: ['transparent']
                            },
                            xaxis: {
                                categories: x_axis,
                            },
                            fill: {
                                opacity: 1
                            },
                            tooltip: {
                                y: {
                                    formatter: function (val) {
                                        return val
                                    }
                                }
                            },
                            noData: {
                                text: 'No Data'
                            }
                        };

                        chart2 = new ApexCharts(document.querySelector("#chart-2"), options);
                        chart2.render();
                    } else {
                        var options = {
                            chart: {
                                height: 350,
                                type: 'bar',
                            },
                            dataLabels: {
                                enabled: false
                            },
                            series: [],
                            noData: {
                                text: 'No Data'
                            }
                        }

                        chart2 = new ApexCharts(document.querySelector("#chart-2"), options);
                        chart2.render();
                    }
                },
                error: function (err) {
                    console.log(err);
                },
            })
        }
        $("#solid-country-all").change(function () {
            if (this.checked) {
                var clist = document.getElementsByClassName("solid-country-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = true; }
            } else {
                var clist = document.getElementsByClassName("solid-country-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = false; }
            }
            getDocumentData();
        });
        $("#solid-type-all").change(function () {
            if (this.checked) {
                var clist = document.getElementsByClassName("solid-type-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = true; }
            } else {
                var clist = document.getElementsByClassName("solid-type-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = false; }
            }
        });
        $("#plastic-country-all").change(function () {
            if (this.checked) {
                var clist = document.getElementsByClassName("plastic-country-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = true; }
            } else {
                var clist = document.getElementsByClassName("plastic-country-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = false; }
            }
            getDocumentData();
        });
        $("#plastic-type-all").change(function () {
            if (this.checked) {
                var clist = document.getElementsByClassName("plastic-type-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = true; }
            } else {
                var clist = document.getElementsByClassName("plastic-type-filter");
                for (var i = 0; i < clist.length; ++i) { clist[i].checked = false; }
            }
        });
    });
</script>